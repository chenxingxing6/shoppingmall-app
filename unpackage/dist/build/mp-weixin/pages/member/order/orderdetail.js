(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/order/orderdetail"],{1492:function(t,e,s){"use strict";s.r(e);var i=s("841d"),a=s.n(i);for(var l in i)"default"!==l&&function(t){s.d(e,t,function(){return i[t]})}(l);e["default"]=a.a},"759a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"content"},[s("view",{staticClass:"content-top"},[s("view",{staticClass:"cell-group margin-cell-group"},[s("view",{staticClass:"cell-item add-title-item"},[s("view",{staticClass:"cell-item-bd"},[2!=t.orderInfo.order_type?s("view",{staticClass:"cell-bd-view black-text"},[s("text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.status_name))])]):t._e(),s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("订单号："+t._s(t.orderInfo.order_id))]),s("button",{staticClass:"btn btn-g btn-small",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-0"},on:{click:function(e){t.copyData(t.orderInfo.order_id)}}},[t._v("复制")])],1),s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("下单时间："+t._s(t.orderInfo.ctime))])])])])]),s("view",{staticClass:"cell-group margin-cell-group"},[t.isDelivery?s("view",{staticClass:"cell-item add-title-item",attrs:{eventid:"cd932f84-1"},on:{click:t.logistics}},[s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view black-text"},[s("text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.express_delivery.context))])]),s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.express_delivery.time))])])]),t._m(0)]):t._e(),t.orderInfo.store?t._e():s("view",{staticClass:"cell-item add-title-item"},[s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view black-text"},[s("text",{staticClass:"cell-bd-text"},[t._v("收件人："+t._s(t.orderInfo.ship_name))])]),s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.ship_area_name+t.orderInfo.ship_address))])])])])]),t.orderInfo.store?s("view",{staticClass:"cell-group margin-cell-group"},[s("view",{staticClass:"cell-item add-title-item"},[t._m(1),s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view black-text"},[s("text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.store.store_name))])]),s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("门店电话："+t._s(t.orderInfo.store.mobile))])]),s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("门店地址："+t._s(t.orderInfo.store.all_address))])]),s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("提货人信息："+t._s(t.orderInfo.ship_name))]),s("text",{staticClass:"cell-bd-text",staticStyle:{"margin-left":"10rpx"}},[t._v(t._s(t.orderInfo.ship_mobile))])]),t.lading.status?s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("提货码："),s("text",{staticClass:"red-price"},[t._v(t._s(t.lading.code))])])]):t._e()])])]):t._e(),1!=t.orderInfo.text_status&&2!=t.orderInfo.text_status||2!=t.orderInfo.order_type?t._e():s("view",{staticClass:"cell-group margin-cell-group"},[s("view",{staticClass:"cell-item right-img"},[s("view",{staticClass:"cell-item-hd"},[1==t.teamInfo.status?s("view",{staticClass:"cell-hd-title"},[t._v("待拼团，还差"+t._s(t.teamInfo.team_nums)+"人")]):2==t.teamInfo.status?s("view",{staticClass:"cell-hd-title"},[t._v("拼团成功，待发货")]):3==t.teamInfo.status?s("view",{staticClass:"cell-hd-title"},[t._v("拼团失败")]):t._e()])]),s("view",{staticClass:"group-swiper"},[t.teamInfo.current_count?s("view",{staticClass:"cell-item"},[s("view",{staticClass:"cell-item-hd"},[t._l(t.teamInfo.list,function(e,i){return s("view",{key:i,staticClass:"user-head-img-c"},[e.id==e.team_id?s("view",{staticClass:"user-head-img-tip"},[t._v("拼主")]):t._e(),s("image",{staticClass:"user-head-img cell-hd-icon have-none",attrs:{src:e.user_avatar,mode:""}})])}),t.teamInfo.team_nums>3?s("view",[t._l(3,function(e,i){return s("view",{key:e,staticClass:"uhihn"},[t._v("?")])}),s("view",{staticClass:"uhihn"},[t._v("···")])],2):s("view",t._l(t.teamInfo.team_nums,function(e,i){return s("view",{key:e,staticClass:"uhihn"},[t._v("?")])}))],2),1==t.teamInfo.status?s("view",{staticClass:"cell-item-ft"},[s("button",{staticClass:"btn",attrs:{eventid:"cd932f84-2"},on:{click:function(e){t.goInvition()}}},[t._v("邀请拼单")])],1):t._e()]):t._e()])]),s("view",{staticClass:"img-list"},t._l(t.orderInfo.items,function(e,i){return s("view",{key:e.id,staticClass:"img-list-item"},[s("image",{staticClass:"img-list-item-l little-img have-none",attrs:{src:e.image_url,mode:"aspectFill"}}),s("view",{staticClass:"img-list-item-r little-right"},[s("view",{staticClass:"little-right-t"},[1==t.orderInfo.order_type?s("view",{staticClass:"goods-name list-goods-name",attrs:{eventid:"cd932f84-4-"+i},on:{click:function(s){t.goodsDetail(e.goods_id)}}},[t._v(t._s(e.name))]):2==t.orderInfo.order_type?s("view",{staticClass:"goods-name list-goods-name",attrs:{eventid:"cd932f84-3-"+i},on:{click:function(s){t.pintuanDetail(e.goods_id)}}},[t._v(t._s(e.name))]):t._e(),s("view",{staticClass:"goods-price"},[t._v("￥"+t._s(e.price))])]),s("view",{staticClass:"romotion-tip"},t._l(t.formatPormotions(e.promotion_list),function(e,i){return s("view",{key:i,staticClass:"romotion-tip-item"},[t._v(t._s(e))])})),s("view",{staticClass:"goods-item-c"},[s("view",{staticClass:"goods-buy"},[null!==e.addon?s("view",{staticClass:"goods-salesvolume"},[t._v(t._s(e.addon))]):t._e(),s("view",{staticClass:"goods-num"},[t._v("× "+t._s(e.nums))])])])])])})),1!=t.orderInfo.tax_type?s("view",{staticClass:"cell-group margin-cell-group"},[s("view",{staticClass:"cell-item add-title-item"},[s("view",{staticClass:"cell-item-bd"},[t._m(2),1!=t.orderInfo.tax_type?s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("发票抬头："+t._s(t.orderInfo.tax_title))])]):t._e(),3==t.orderInfo.tax_type?s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("发票税号："+t._s(t.orderInfo.tax_code))])]):t._e()])])]):t._e(),t.orderInfo.promotion_list&&t.orderInfo.promotion_list.length>0?s("view",{staticClass:"cell-group margin-cell-group order-offer"},[s("view",{staticClass:"cell-item add-title-item"},[t._m(3),s("view",{staticClass:"cell-item-bd"},t._l(t.orderInfo.promotion_list,function(e,i){return s("view",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"item.type == 2"}],key:i,staticClass:"order-promotion"},[t._v(t._s(e.name))])}))])]):t._e(),s("view",{staticClass:"cell-group margin-cell-group order-price"},[s("view",{staticClass:"cell-item add-title-item"},[t._m(4),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v("￥"+t._s(t.orderInfo.goods_amount))])])]),s("view",{staticClass:"cell-item add-title-item"},[t._m(5),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v("￥"+t._s(t.orderInfo.cost_freight))])])]),t.orderInfo.goods_pmt>0?s("view",{staticClass:"cell-item add-title-item"},[t._m(6),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.goods_pmt))])])]):t._e(),t.orderInfo.point_money>0?s("view",{staticClass:"cell-item add-title-item"},[t._m(7),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.point_money))])])]):t._e(),t.orderInfo.order_pmt>0?s("view",{staticClass:"cell-item add-title-item"},[t._m(8),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.order_pmt))])])]):t._e(),t.orderInfo.coupon_pmt>0?s("view",{staticClass:"cell-item add-title-item"},[t._m(9),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.coupon_pmt))])])]):t._e(),s("view",{staticClass:"cell-item add-title-item"},[t._m(10),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p red-price"},[t._v("￥"+t._s(t.orderInfo.order_amount))])])]),t.orderInfo.pay_status>1?s("view",{staticClass:"cell-item add-title-item"},[t._m(11),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v(t._s(t.orderInfo.payment_name))])])]):t._e(),t.orderInfo.pay_status>1?s("view",{staticClass:"cell-item add-title-item"},[t._m(12),s("view",{staticClass:"cell-item-ft"},[s("text",{staticClass:"cell-ft-p"},[t._v(t._s(t.orderInfo.payment_time))])])]):t._e()])]),1===t.orderInfo.text_status?s("view",{staticClass:"button-bottom"},[s("button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-5"},on:{click:function(e){t.cancelOrder(t.orderInfo.order_id)}}},[t._v("取消订单")]),s("button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-6"},on:{click:function(e){t.toPay(t.orderInfo.order_id)}}},[t._v("立即支付")])],1):t._e(),2===t.orderInfo.text_status?s("view",{staticClass:"button-bottom"},[0==t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-8"},on:{click:function(e){t.customerService(t.orderInfo.order_id)}}},[t._v("申请售后")]):t.orderInfo.bill_aftersales_id&&0!=t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-7"},on:{click:function(e){t.showCustomerService(t.orderInfo.bill_aftersales_id)}}},[t._v("查看售后")]):t._e()],1):t._e(),3===t.orderInfo.text_status?s("view",{staticClass:"button-bottom"},[0==t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-10"},on:{click:function(e){t.customerService(t.orderInfo.order_id)}}},[t._v("申请售后")]):t.orderInfo.bill_aftersales_id&&0!=t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-9"},on:{click:function(e){t.showCustomerService(t.orderInfo.bill_aftersales_id)}}},[t._v("查看售后")]):t._e(),s("button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-11"},on:{click:t.logistics}},[t._v("查看物流")]),s("button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-12"},on:{click:function(e){t.tackDeliery(t.orderInfo.order_id)}}},[t._v("确认收货")])],1):t._e(),4===t.orderInfo.text_status?s("view",{staticClass:"button-bottom"},[0==t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-14"},on:{click:function(e){t.customerService(t.orderInfo.order_id)}}},[t._v("申请售后")]):t.orderInfo.bill_aftersales_id&&0!=t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-13"},on:{click:function(e){t.showCustomerService(t.orderInfo.bill_aftersales_id)}}},[t._v("查看售后")]):t._e(),s("button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-15"},on:{click:function(e){t.toEvaluate(t.orderInfo.order_id)}}},[t._v("立即评价")])],1):t._e(),5===t.orderInfo.text_status?s("view",{staticClass:"button-bottom"},[0==t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-17"},on:{click:function(e){t.customerService(t.orderInfo.order_id)}}},[t._v("申请售后")]):t.orderInfo.bill_aftersales_id&&0!=t.orderInfo.bill_aftersales_id?s("button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover",eventid:"cd932f84-16"},on:{click:function(e){t.showCustomerService(t.orderInfo.bill_aftersales_id)}}},[t._v("查看售后")]):t._e()],1):t._e()])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-ft"},[s("image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-hd"},[s("image",{staticClass:"cell-hd-icon",attrs:{src:"/static/image/homepage.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-bd-view black-text"},[s("text",{staticClass:"cell-bd-text"},[t._v("发票信息")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-hd"},[s("view",{staticClass:"cell-bd-view promotion-title"},[s("text",{staticClass:"cell-bd-text promotion-title-text"},[t._v("订单优惠")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("商品总价")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("运费")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("商品优惠")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("积分优惠")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("订单优惠")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("其他优惠")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("订单总价")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("支付方式")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cell-item-bd"},[s("view",{staticClass:"cell-bd-view"},[s("text",{staticClass:"cell-bd-text"},[t._v("支付时间")])])])}];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return a})},"7d3a":function(t,e,s){"use strict";s("faac");var i=l(s("b0ce")),a=l(s("ce9d"));function l(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(a.default))},"841d":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("1fc7"),a={mixins:[i.orders,i.goods,i.tools],data:function(){return{orderId:0,orderInfo:{},teamInfo:[],lading:{status:!1,code:""}}},onLoad:function(e){this.orderId=e.order_id,this.orderId||this.$common.errorToShow("",function(){t.navigateBack({delta:1})})},onShow:function(){this.orderDetail()},computed:{isDelivery:function(){return!!(this.orderInfo.text_status>2&&null!=this.orderInfo.express_delivery&&this.orderInfo.hasOwnProperty("express_delivery")&&Object.keys(this.orderInfo.express_delivery).length)}},methods:{orderDetail:function(){var t=this,e={order_id:t.orderId};t.$api.orderDetail(e,function(e){if(e.status){var s=e.data;switch(s.text_status){case 1:t.$set(s,"status_name","待付款");break;case 2:t.$set(s,"status_name","待发货");break;case 3:t.$set(s,"status_name","待收货");break;case 4:t.$set(s,"status_name","待评价");break;case 6:t.$set(s,"status_name","交易完成");break;case 7:t.$set(s,"status_name","交易取消");break;case 8:t.$set(s,"status_name","待分享");break;default:t.$set(s,"status_name","交易成功");break}s.ctime=t.$common.timeToDate(s.ctime),null!==s.payment_time&&(s.payment_time=t.$common.timeToDate(s.payment_time)),t.orderInfo=s,2!=s.order_type||2!=s.text_status&&1!=s.text_status||t.getTeam(s.order_id),s.ladingItem[0]&&(t.lading={status:!0,code:s.ladingItem[0].id})}else t.$common.errorToShow(e.msg)})},cancelOrder:function(t){var e=this;this.$common.modelShow("提示","确认要取消订单吗?",function(){var s={order_ids:t};e.$api.cancelOrder(s,function(t){t.status?e.$common.successToShow(t.msg,function(){e.orderDetail()}):e.$common.errorToShow(t.msg)})})},tackDeliery:function(t){var e=this;this.$common.modelShow("提示","确认收货操作吗?",function(){var s={order_id:t};e.$api.confirmOrder(s,function(t){t.status?e.$common.successToShow("确认收货成功",function(){var t=getCurrentPages(),s=t[t.length-2];void 0!==s&&"pages/member/order/orderlist"===s.route&&(s.$vm.isReload=!0),e.orderDetail()}):e.$common.errorToShow(t.msg)})})},formatPormotions:function(t){var e={};return e=JSON.parse(t),e},customerService:function(t){this.$common.navigateTo("../after_sale/index?order_id="+t)},logistics:function(){var t=this.orderInfo.ship_area_name?this.orderInfo.ship_area_name:"",e=this.orderInfo.ship_address?this.orderInfo.ship_address:"",s=t+e;this.showExpress(this.orderInfo.delivery[0].logi_code,this.orderInfo.delivery[0].logi_no,s)},showCustomerService:function(t){this.$common.navigateTo("../after_sale/detail?aftersales_id="+t)},goInvition:function(){t.navigateTo({url:"./invitation_group?order_id="+this.orderInfo.order_id+"&close_time="+this.teamInfo.close_time})},getTeam:function(t){var e=this;this.$api.getOrderPintuanTeamInfo({order_id:t},function(t){t.status?e.teamInfo={list:t.data.teams,current_count:t.data.teams.length,people_number:t.data.people_number,team_nums:t.data.team_nums,close_time:t.data.close_time,id:t.data.id,team_id:t.data.team_id,rule_id:t.data.rule_id,status:t.data.status}:e.$common.errorToShow(t.msg)})}}};e.default=a}).call(this,s("543d")["default"])},c22b:function(t,e,s){},ce9d:function(t,e,s){"use strict";s.r(e);var i=s("759a"),a=s("1492");for(var l in a)"default"!==l&&function(t){s.d(e,t,function(){return a[t]})}(l);s("e988");var r=s("2877"),o=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},e988:function(t,e,s){"use strict";var i=s("c22b"),a=s.n(i);a.a}},[["7d3a","common/runtime","common/vendor"]]]);