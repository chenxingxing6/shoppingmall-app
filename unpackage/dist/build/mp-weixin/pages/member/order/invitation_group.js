(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/order/invitation_group"],{"334f":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view",{staticStyle:{width:"100%",height:"300rpx",background:"#FFFFFF",position:"absolute",left:"0",bottom:"0"}},[r("view",{staticClass:"share-pop"},[r("view",{staticClass:"share-item"},[r("button",{staticClass:"btn",attrs:{"open-type":"share"}},[r("image",{attrs:{src:"../../../static/image/share-f.png",mode:""}}),r("view",{},[t._v("分享微信好友")])])],1),r("view",{staticClass:"share-item",attrs:{eventid:"77ca82e0-0"},on:{click:function(e){t.createPoster()}}},[r("image",{attrs:{src:"../../../static/image/poster.png",mode:""}}),r("view",{},[t._v("生成海报")])])]),r("view",{staticClass:"button-bottom"},[r("button",{staticClass:"btn btn-w btn-square",attrs:{eventid:"77ca82e0-1"},on:{click:function(e){t.close()}}},[t._v("关闭")])],1)])},o=[];r.d(e,"a",function(){return n}),r.d(e,"b",function(){return o})},3974:function(t,e,r){"use strict";r.r(e);var n=r("863b"),o=r.n(n);for(var i in n)"default"!==i&&function(t){r.d(e,t,function(){return n[t]})}(i);e["default"]=o.a},"3f5d":function(t,e,r){"use strict";var n=r("e4fc"),o=r.n(n);o.a},5913:function(t,e,r){},"863b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(r("f557")),o=c(r("0812")),i=(r("6f5d"),r("6740")),a=c(r("86a1")),s=c(r("da38"));c(r("eb01"));function c(t){return t&&t.__esModule?t:{default:t}}var u={components:{lvvPopup:n.default,uniCountdown:o.default,share:a.default,shareByWx:s.default},data:function(){return{myShareCode:"",shareType:3,providerList:[],swiper:{indicatorDots:!0,autoplay:!0,interval:3e3,duration:800},goodsInfo:[],teamInfo:[],favLogo:["/static/image/ic-me-collect.png","/static/image/ic-me-collect2.png"],horizontal:"right",vertical:"bottom",direction:"vertical",pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#FF7159"},query:"",indicatorDots:!1,autoplay:!1,interval:2e3,duration:500,lasttime:{day:0,hour:0,minute:0,second:0},userToken:0,time:0,order_id:"",orderInfo:{}}},onLoad:function(t){var e,r;t.order_id?this.order_id=t.order_id:this.$common.errorToShow("参数错误");var n=getCurrentPages(),o=n[n.length-2];"undefined"!=typeof o&&(e=o.$vm.teamInfo,r=o.$vm.orderInfo),e&&r?(this.teamInfo=e,this.orderInfo=r,this.goodsInfo=r.items[0]):(this.orderDetail(),this.getTeam());var i=Date.parse(new Date)/1e3;this.lasttime=this.$common.timeToDateObj(t.close_time-i),this.getMyShareCode()},computed:{shareHref:function(){var t=getCurrentPages(),e=t[t.length-1];return i.apiBaseUrl+"wap/"+e.route+"?scene="+this.query}},onReachBottom:function(){2===this.current&&"more"===this.goodsComments.loadStatus&&this.getGoodsComments()},methods:{getTeam:function(){var t=this;this.$api.getOrderPintuanTeamInfo({order_id:this.order_id},function(e){e.status?(t.teamInfo={list:e.data.teams,current_count:e.data.teams.length,people_number:e.data.people_number,team_nums:e.data.team_nums,close_time:e.data.close_time,id:e.data.id,team_id:e.data.team_id,rule_id:e.data.rule_id},console.log(t.lasttime)):t.$common.errorToShow(e.msg)})},orderDetail:function(){var t=this,e={order_id:t.order_id};t.$api.orderDetail(e,function(e){if(e.status){var r=e.data;null!==r.ctime&&(r.ctime=t.$common.timeToDate(r.ctime)),t.orderInfo=r,t.goodsInfo=r.items[0]}else t.$common.errorToShow(e.msg)})},close:function(){this.$emit("close")},clickHandler:function(t){"poster"===t.cate?this.createPoster():this.share(t)},toshow:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;1==t&&(this.lvvpopref_type=1),0!==e&&(this.team_id=e),this.$refs.lvvpopref.show()},toclose:function(){this.$refs.lvvpopref.close()},goShare:function(){this.$refs.share.show()},closeShare:function(){this.$refs.share.close()},getMyShareCode:function(){var t=this,e=this.$db.get("userToken");e&&""!=e&&this.$api.shareCode({},function(e){e.status&&(t.myShareCode=e.data?e.data:"")})}},onShareAppMessage:function(){var t=this.myShareCode?this.myShareCode:"",e=this.teamInfo.list[0].team_id,r=this.$common.shareParameterDecode("type=5&invite="+t+"&id="+this.goodsInfo.goods_id+"&team_id="+e),n="/pages/share/jump?scene="+r;return console.log(n),{title:this.goodsInfo.name,imageUrl:this.goodsInfo.image_url,path:n}}};e.default=u},"86a1":function(t,e,r){"use strict";r.r(e);var n=r("334f"),o=r("ead7");for(var i in o)"default"!==i&&function(t){r.d(e,t,function(){return o[t]})}(i);r("3f5d");var a=r("2877"),s=Object(a["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},"96cf":function(t,e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=_;var f="suspendedStart",h="suspendedYield",d="executing",m="completed",p={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==n&&o.call(y,a)&&(v=y);var w=I.prototype=C.prototype=Object.create(v);x.prototype=w.constructor=I,I.constructor=x,I[c]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,I):(t.__proto__=I,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},l.awrap=function(t){return{__await:t}},L(P.prototype),P.prototype[s]=function(){return this},l.AsyncIterator=P,l.async=function(t,e,r,n){var o=new P(_(t,e,r,n));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},L(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return s.type="throw",s.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),p}}}function _(t,e,r,n){var o=e&&e.prototype instanceof C?e:C,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=S(t,r,a),i}function b(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}function C(){}function x(){}function I(){}function L(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function P(t){function e(r,n,i,a){var s=b(t[r],t,n);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(u).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,a)})}a(s.arg)}var r;function n(t,n){function o(){return new Promise(function(r,o){e(t,n,r,o)})}return r=r?r.then(o,o):o()}this._invoke=n}function S(t,e,r){var n=f;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===m){if("throw"===o)throw i;return O()}r.method=o,r.arg=i;while(1){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=b(t,e,r);if("normal"===c.type){if(n=r.done?m:h,c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=m,r.method="throw",r.arg=c.arg)}}}function E(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=b(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){while(++n<t.length)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},a34a:function(t,e,r){t.exports=r("bbdd")},b893:function(t,e,r){"use strict";r.r(e);var n=r("c9f1"),o=r("3974");for(var i in o)"default"!==i&&function(t){r.d(e,t,function(){return o[t]})}(i);r("eaea");var a=r("2877"),s=Object(a["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},bbdd:function(t,e,r){var n=function(){return this||"object"===typeof self&&self}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r("96cf"),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(a){n.regeneratorRuntime=void 0}},bfc9:function(t,e,r){"use strict";r("faac");var n=i(r("b0ce")),o=i(r("b893"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(o.default))},c9f1:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view",{staticClass:"content"},[r("view",{staticClass:"ig-top"},[r("view",{staticClass:"ig-top-t"},[r("view",{},[t._v("剩余时间："),r("uni-countdown",{attrs:{day:t.lasttime.day,hour:t.lasttime.hour,minute:t.lasttime.minute,second:t.lasttime.second,mpcomid:"6db61a9a-0"}})],1)]),r("view",{staticClass:"ig-top-m"},[t._l(t.teamInfo.list,function(e,n){return r("view",{key:n,staticClass:"user-head-img-c"},[e.id==e.team_id?r("view",{staticClass:"user-head-img-tip"},[t._v("拼主")]):t._e(),r("image",{staticClass:"user-head-img cell-hd-icon have-none",attrs:{src:e.user_avatar,mode:""}})])}),t._l(t.teamInfo.team_nums,function(e,n){return t.teamInfo.team_nums?r("view",{key:e,staticClass:"user-head-img-c uhihn"},[r("text",[t._v("?")])]):t._e()})],2),r("view",{staticClass:"ig-top-b"},[r("view",{staticClass:"igtb-top"},[t._v("还差"),r("text",{staticClass:"red-price"},[t._v(t._s(t.teamInfo.team_nums))]),t._v("人，赶快邀请好友来拼单吧")]),r("view",{staticClass:"igtb-mid"},[r("button",{staticClass:"btn",attrs:{eventid:"6db61a9a-0"},on:{click:function(e){t.goShare()}}},[t._v("邀请好友拼单")])],1),r("view",{staticClass:"igtb-bot"},[t._v("分享好友越多，成团越快")])])]),r("lvv-popup",{ref:"share",attrs:{position:"bottom",mpcomid:"6db61a9a-2"}},[r("shareByWx",{attrs:{shareType:3,goodsId:t.goodsInfo.goods_id,teamId:t.teamInfo.team_id,groupId:t.teamInfo.rule_id,shareImg:t.goodsInfo.image_url,shareTitle:t.goodsInfo.name,shareContent:t.goodsInfo.brief,shareHref:t.shareHref,eventid:"6db61a9a-1",mpcomid:"6db61a9a-1"},on:{close:function(e){t.closeShare()}}})],1),r("view",{staticClass:"cell-group margin-cell-group"},[r("view",{staticClass:"cell-item"},[t._m(0),r("view",{staticClass:"cell-item-ft"},[r("text",{staticClass:"cell-ft-text"},[t._v(t._s(t.goodsInfo.name))])])]),r("view",{staticClass:"cell-item"},[t._m(1),r("view",{staticClass:"cell-item-ft"},[r("text",{staticClass:"cell-ft-text"},[t._v(t._s(t.orderInfo.ctime))])])]),t._m(2)])],1)},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view",{staticClass:"cell-item-hd"},[r("view",{staticClass:"cell-hd-title"},[t._v("商品名称")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view",{staticClass:"cell-item-hd"},[r("view",{staticClass:"cell-hd-title"},[t._v("拼单时间")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view",{staticClass:"cell-item"},[r("view",{staticClass:"cell-item-hd"},[r("view",{staticClass:"cell-hd-title"},[t._v("拼单须知")])]),r("view",{staticClass:"cell-item-ft group-notice"},[r("text",{staticClass:"cell-ft-text"},[t._v("* 好友拼单")]),r("text",{staticClass:"cell-ft-text"},[t._v("* 人满发货")]),r("text",{staticClass:"cell-ft-text"},[t._v("* 人不满退款")])])])}];r.d(e,"a",function(){return n}),r.d(e,"b",function(){return o})},e4fc:function(t,e,r){},ead7:function(t,e,r){"use strict";r.r(e);var n=r("f023"),o=r.n(n);for(var i in n)"default"!==i&&function(t){r.d(e,t,function(){return n[t]})}(i);e["default"]=o.a},eaea:function(t,e,r){"use strict";var n=r("5913"),o=r.n(n);o.a},f023:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r("a34a"));r("6740");function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void r(u)}s.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,c,"next",t)}function c(t){i(a,n,o,s,c,"throw",t)}s(void 0)})}}var s={props:{goodsId:{type:Number,default:0},shareImg:{type:String,default:""},shareTitle:{type:String,default:""},shareContent:{type:String,default:""},shareHref:{type:String,default:""}},data:function(){return{shareType:0,providerList:[]}},mounted:function(){},methods:{close:function(){this.$emit("close")},clickHandler:function(t){"poster"===t.cate?this.createPoster():this.share(t)},createPoster:function(){var t=this,e={id:this.goodsId,type:1},r=getCurrentPages();r[r.length-1];e.source=2,e.return_url="pages/share/jump";var n=this.$db.get("userToken");n&&(e.user_id=n),this.$api.createPoster(e,function(e){e.status?(t.close(),t.$common.navigateTo("/pages/share?poster="+e.data)):t.$common.errorToShow(e.msg)})},share:function(){var t=a(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),compress:function(){var e=this.shareImg;return new Promise(function(r){var n=plus.io.convertAbsoluteFileSystem(e.replace("file://",""));plus.io.resolveLocalFileSystemURL(n,function(n){n.file(function(n){n.size>20480&&plus.zip.compressImage({src:e,dst:e.replace(".jpg","2222.jpg").replace(".JPG","2222.JPG"),width:"10%",height:"10%",quality:1,overwrite:!0},function(t){var n=e.replace(".jpg","2222.jpg").replace(".JPG","2222.JPG");r(n)},function(e){t.showModal({content:"分享图片太大,需要请重新选择图片!",showCancel:!1})})})},function(e){t.showModal({content:"分享图片太大,需要请重新选择图片!",showCancel:!1})})})}}};e.default=s}).call(this,r("543d")["default"])}},[["bfc9","common/runtime","common/vendor"]]]);