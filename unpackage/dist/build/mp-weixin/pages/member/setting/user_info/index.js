(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/setting/user_info/index"],{"0633":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{title:"picker",avatar:"",objectSex:["男","女","未知"],index:2,nickname:"",mobile:"",date:"1990-01-01",birthday:"请选择",sex:0,submitStatus:!1}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},methods:{bindPickerChange:function(t){this.sex=t.target.value},bindDateChange:function(t){this.birthday=t.target.value},getDate:function(t){var e=new Date,a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate();return"start"===t?a-=60:"end"===t&&(a+=2),i=i>9?i:"0"+i,s=s>9?s:"0"+s,"".concat(a,"-").concat(i,"-").concat(s)},uploadAvatar:function(){var t=this;this.$api.uploadFiles(function(e){if(e.status){var a=e.data.url;t.$api.changeAvatar({avatar:a},function(e){e.status?t.$common.successToShow("上传成功",function(){t.avatar=e.data.avatar}):t.$common.errorToShow(e.msg)})}else t.$common.errorToShow(e.msg)})},submitHandler:function(){var e=this;this.submitStatus=!0;var a=this.sex+1;if("请选择"==this.birthday)return this.$common.successToShow("请选择出生日期"),this.submitStatus=!1,!1;this.$api.editInfo({sex:a,birthday:this.birthday,nickname:this.nickname},function(a){e.$common.successToShow(a.msg,function(a){e.submitStatus=!1,t.navigateBack({delta:1})})})}},onLoad:function(){var t=this;t.$api.userInfo({},function(e){if(e.status){var a=e.data.sex-1;null==e.data.birthday&&(e.data.birthday="请选择"),t.nickname=e.data.nickname,t.mobile=e.data.mobile,t.sex=a,t.index=a,t.birthday=e.data.birthday,t.avatar=e.data.avatar,"请选择"!=t.birthday&&(t.date=t.birthday)}else t.$common.errorToShow(e.msg)})}};e.default=a}).call(this,a("543d")["default"])},"109f":function(t,e,a){"use strict";var i=a("bdec"),s=a.n(i);s.a},3009:function(t,e,a){"use strict";a.r(e);var i=a("0633"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},"97f0":function(t,e,a){"use strict";a("faac");var i=n(a("b0ce")),s=n(a("f2fe"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},b904:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("view",{staticClass:"content-top"},[a("view",{staticClass:"cell-group"},[a("view",{staticClass:"cell-item user-head"},[t._m(0),a("view",{staticClass:"cell-item-ft"},[a("image",{staticClass:"cell-ft-next user-head-img have-none",attrs:{mode:"aspectFill",src:t.avatar,eventid:"40157874-0"},on:{click:t.uploadAvatar}})])]),a("view",{staticClass:"cell-item"},[t._m(1),a("view",{staticClass:"cell-item-bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"cell-bd-input",attrs:{placeholder:"",eventid:"40157874-1"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})])]),a("view",{staticClass:"cell-item right-img"},[t._m(2),a("view",{staticClass:"cell-item-bd"},[a("view",{staticClass:"uni-list"},[a("view",{staticClass:"uni-list-cell-db"},[a("picker",{attrs:{value:t.index,range:t.objectSex,eventid:"40157874-2"},on:{change:t.bindPickerChange}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.objectSex[t.sex]))])])],1)])]),t._m(3)]),a("view",{staticClass:"cell-item right-img"},[t._m(4),a("view",{staticClass:"cell-item-bd"},[a("view",{staticClass:"uni-list"},[a("view",{staticClass:"uni-list-cell-db"},[a("picker",{attrs:{mode:"date",value:t.date,start:t.startDate,end:t.endDate,eventid:"40157874-3"},on:{change:t.bindDateChange}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.birthday))])])],1)])]),t._m(5)])])]),a("view",{staticClass:"button-bottom"},[a("button",{staticClass:"btn btn-square btn-b",attrs:{"hover-class":"btn-hover2",disabled:t.submitStatus,loading:t.submitStatus,eventid:"40157874-4"},on:{click:function(e){t.submitHandler()}}},[t._v("保存")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cell-item-hd"},[a("view",{staticClass:"cell-hd-title"},[t._v("头像")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cell-item-hd"},[a("view",{staticClass:"cell-hd-title"},[t._v("昵称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cell-item-hd"},[a("view",{staticClass:"cell-hd-title"},[t._v("性别")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cell-item-ft"},[a("image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/ic-pull-down.png"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cell-item-hd"},[a("view",{staticClass:"cell-hd-title"},[t._v("生日")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cell-item-ft"},[a("image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/ic-pull-down.png"}})])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},bdec:function(t,e,a){},f2fe:function(t,e,a){"use strict";a.r(e);var i=a("b904"),s=a("3009");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("109f");var c=a("2877"),l=Object(c["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports}},[["97f0","common/runtime","common/vendor"]]]);