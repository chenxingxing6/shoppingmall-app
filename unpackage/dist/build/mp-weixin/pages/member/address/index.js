(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/address/index"],{2592:function(e,t,i){"use strict";var a=i("7351"),s=i.n(a);s.a},2646:function(e,t,i){"use strict";i.r(t);var a=i("d0c1"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);t["default"]=s.a},7351:function(e,t,i){},"7f6c":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"content"},[i("view",{staticClass:"content-top"},[i("view",{staticClass:"cell-group"},[i("view",{staticClass:"cell-item"},[e._m(0),i("view",{staticClass:"cell-item-bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"cell-bd-input",attrs:{type:"text",placeholder:"请填写收货人姓名",eventid:"43e18f57-0"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),i("view",{staticClass:"cell-item"},[e._m(1),i("view",{staticClass:"cell-item-bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],staticClass:"cell-bd-input",attrs:{type:"text",placeholder:"请填写收货人手机号",eventid:"43e18f57-1"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})])]),i("view",{staticClass:"cell-item"},[e._m(2),i("view",{staticClass:"cell-item-bd"},[i("input",{attrs:{value:e.pickerValue,eventid:"43e18f57-2"},on:{focus:e.showThreePicker}}),i("area-picker",{ref:"areaPicker",attrs:{areaId:e.areaId,defaultIndex:e.defaultIndex,eventid:"43e18f57-3",mpcomid:"43e18f57-0"},on:{onConfirm:e.onConfirm}})],1),i("view",{staticClass:"cell-item-ft"},[i("image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/ic-pull-down.png",eventid:"43e18f57-4"},on:{click:e.showThreePicker}})])]),i("view",{staticClass:"cell-item"},[e._m(3),i("view",{staticClass:"cell-item-bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"cell-bd-input",attrs:{type:"text",placeholder:"请填写收货详细地址",eventid:"43e18f57-5"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})])]),i("view",{staticClass:"cell-item",attrs:{eventid:"43e18f57-6"},on:{click:e.defaultChange}},[e._m(4),i("view",{staticClass:"cell-item-ft"},[i("label",{staticClass:"radio"},[i("radio",{attrs:{value:"1",checked:e.checked,color:"#FF7159"}})],1)],1)])])]),i("view",{staticClass:"button-bottom"},[e.id&&0!=e.id?i("button",{staticClass:"btn btn-square btn-w",attrs:{"hover-class":"btn-hover2",disabled:e.submitStatus,loading:e.submitStatus,eventid:"43e18f57-7"},on:{click:e.delShip}},[e._v("删除")]):e._e(),i("button",{staticClass:"btn btn-square btn-b",attrs:{"hover-class":"btn-hover2",disabled:e.submitStatus,loading:e.submitStatus,eventid:"43e18f57-8"},on:{click:e.saveShip}},[e._v("保存")])],1)])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"cell-item-hd"},[i("view",{staticClass:"cell-hd-title"},[e._v("收货人")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"cell-item-hd"},[i("view",{staticClass:"cell-hd-title"},[e._v("手机号")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"cell-item-hd"},[i("view",{staticClass:"cell-hd-title"},[e._v("省市区")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"cell-item-hd"},[i("view",{staticClass:"cell-hd-title"},[e._v("详细地址")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:"cell-item-hd"},[i("view",{staticClass:"cell-hd-title"},[e._v("设为默认")])])}];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return s})},8099:function(e,t,i){"use strict";i.r(t);var a=i("7f6c"),s=i("2646");for(var n in s)"default"!==n&&function(e){i.d(t,e,function(){return s[e]})}(n);i("2592");var c=i("2877"),o=Object(c["a"])(s["default"],a["a"],a["b"],!1,null,null,null);t["default"]=o.exports},d0c1:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(i("dfe5"));function s(e){return e&&e.__esModule?e:{default:e}}var n={components:{areaPicker:a.default},data:function(){return{id:0,name:"",mobile:"",region:["北京市","北京市","东城区"],areaId:110101,address:"",is_def:2,multiArray:[[],[],[]],multiIndex:[11e4,110100,110101],checked:!1,pickerValue:"",defaultIndex:[0,0,0],submitStatus:!1}},computed:{},methods:{showThreePicker:function(){this.$refs.areaPicker.showPicker()},onConfirm:function(t){var i=this,a=t[0].name,s=t[1].name,n=t[2].name;this.pickerValue=t[0].name+" "+t[1].name+" "+t[2].name;var c={province_name:a,city_name:s,county_name:n};this.$api.getAreaId(c,function(t){t.status?i.areaId=t.data:e.showModal({title:"提示",content:"地区选择出现问题，请重新选择地区",showCancel:!1})})},checkData:function(e){return this.submitStatus=!1,e.name?e.mobile?11!==e.mobile.length?(this.$common.errorToShow("收货人手机号格式不正确"),!1):e.area_id?!!e.address||(this.$common.errorToShow("请输入收货地址详细信息"),!1):(this.$common.errorToShow("请选择地区信息"),!1):(this.$common.errorToShow("请输入收货人手机号"),!1):(this.$common.errorToShow("请输入收货人姓名"),!1)},defaultChange:function(){this.checked?(this.checked=!1,this.is_def=2):(this.checked=!0,this.is_def=1)},getShipInfo:function(){var e=this,t={id:this.id};this.$api.shipDetail(t,function(t){if(t.status){var i=t.data.area_name.split(" ");e.name=t.data.name,e.mobile=t.data.mobile,e.region=i,e.areaId=t.data.area_id,e.pickerValue=e.region[0]+" "+e.region[1]+" "+e.region[2],e.$refs.areaPicker.init(),e.address=t.data.address,e.is_def=t.data.is_def,1==t.data.is_def?e.checked=!0:e.checked=!1}else e.$common.errorToShow("获取收货地址信息出现问题"),e.submitStatus=!1})},delShip:function(){var t=this;this.submitStatus=!0,this.$api.removeShip({id:this.id},function(i){i.status?t.$common.successToShow(i.msg,function(i){t.submitStatus=!1,e.navigateBack({delta:1})}):(t.$common.errorToShow(i.msg),t.submitStatus=!1)})},saveShip:function(){var t=this;this.submitStatus=!0;var i={name:this.name,address:this.address,mobile:this.mobile,is_def:this.is_def,area_id:this.areaId};this.id&&0!=this.id?(i.id=this.id,this.checkData(i)&&this.$api.editShip(i,function(i){i.status?t.$common.successToShow(i.msg,function(i){t.submitStatus=!1,e.navigateBack({delta:1})}):(t.$common.errorToShow(i.msg),t.submitStatus=!1)})):this.checkData(i)&&this.$api.saveUserShip(i,function(i){i.status?t.$common.successToShow(i.msg,function(i){t.submitStatus=!1,e.navigateBack({delta:1})}):(t.$common.errorToShow(i.msg),t.submitStatus=!1)})}},onLoad:function(t){t.ship_id?(this.id=t.ship_id,this.getShipInfo()):(this.pickerValue=this.region[0]+" "+this.region[1]+" "+this.region[2],e.setNavigationBarTitle({title:"添加地址"}))},onBackPress:function(){if(this.$refs.areaPicker.pickerShow)return this.$refs.areaPicker.closePicker(),!0}};t.default=n}).call(this,i("543d")["default"])},d2d1:function(e,t,i){"use strict";i("faac");var a=n(i("b0ce")),s=n(i("8099"));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,a.default)(s.default))}},[["d2d1","common/runtime","common/vendor"]]]);