(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/history/index"],{"196f":function(t,i,s){"use strict";var e=s("bd7d"),o=s.n(e);o.a},"71cc":function(t,i,s){"use strict";s.r(i);var e=s("9c6a"),o=s("cb65");for(var n in o)"default"!==n&&function(t){s.d(i,t,function(){return o[t]})}(n);s("196f");var a=s("2877"),c=Object(a["a"])(o["default"],e["a"],e["b"],!1,null,"9bc1d1b8",null);i["default"]=c.exports},"9c6a":function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("view",{staticClass:"content"},[t.list.length?s("view",{staticClass:"collection"},[t._l(t.list,function(i,e){return s("view",{key:e,staticClass:"container_of_slide"},[i.goods?s("view",{staticClass:"slide_list",style:{transform:"translate3d("+i.slide_x+"px, 0, 0)"},attrs:{eventid:"3218dff7-4-"+e},on:{touchstart:function(i){t.touchStart(i,e)},touchend:function(i){t.touchEnd(i,e)},touchmove:function(i){t.touchMove(i,e)},tap:function(i){t.recover(e)}}},[s("view",{staticClass:"now-message-info",style:{width:t.Screen_width+"px"},attrs:{"hover-class":"uni-list-cell-hover",eventid:"3218dff7-0-"+e},on:{click:function(s){t.goodsDetail(i.goods_id)}}},[s("view",{staticClass:"icon-circle"},[s("image",{staticClass:"goods-img",attrs:{src:i.goods.image_url,mode:"aspectFill"}})]),s("view",{staticClass:"list-right"},[s("view",{staticClass:"list-title"},[t._v(t._s(i.goods.name))]),s("view",{staticClass:"red-price"},[t._v("￥"+t._s(i.goods.price))]),s("view",{staticClass:"list-detail"},[t._v(t._s(i.ctime))])]),t._m(0,!0)]),s("view",{staticClass:"group-btn"},[i.isCollection?s("view",{staticClass:"top btn-div",attrs:{eventid:"3218dff7-1-"+e},on:{tap:function(i){t.collect(e)}}},[t._v("取消")]):t._e(),i.isCollection?t._e():s("view",{staticClass:"top btn-div",attrs:{eventid:"3218dff7-2-"+e},on:{tap:function(i){t.collect(e)}}},[t._v("收藏")]),s("view",{staticClass:"removeM btn-div",attrs:{eventid:"3218dff7-3-"+e},on:{tap:function(i){t.remove(e)}}},[t._v("删除")])]),s("view",{staticStyle:{clear:"both"}})]):t._e()])}),s("uni-load-more",{attrs:{status:t.loadStatus,mpcomid:"3218dff7-0"}})],2):s("view",{staticClass:"history-none"},[s("image",{staticClass:"history-none-img",attrs:{src:"/static/image/order.png",mode:""}})])])},o=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("view",{staticClass:"list-right-1"},[s("image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})])}];s.d(i,"a",function(){return e}),s.d(i,"b",function(){return o})},a599:function(t,i,s){"use strict";s("faac");var e=n(s("b0ce")),o=n(s("71cc"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(o.default))},bd7d:function(t,i,s){},cb65:function(t,i,s){"use strict";s.r(i);var e=s("d5af"),o=s.n(e);for(var n in e)"default"!==n&&function(t){s.d(i,t,function(){return e[t]})}(n);i["default"]=o.a},d5af:function(t,i,s){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(s("d92d")),o=s("1fc7");function n(t){return t&&t.__esModule?t:{default:t}}function a(t){return l(t)||r(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var i=0,s=new Array(t.length);i<t.length;i++)s[i]=t[i];return s}}var u={mixins:[o.goods],components:{uniLoadMore:e.default},computed:{Screen_width:function(){return t.getSystemInfoSync().windowWidth}},data:function(){return{visible:!1,start_slide_x:0,btnWidth:0,startX:0,LastX:0,startTime:0,screenName:"",page:1,limit:10,list:[],loadStatus:"more"}},onLoad:function(){this.goodsBrowsing()},onShow:function(){t.getSystemInfoSync()},onReachBottom:function(){"more"===this.loadStatus&&this.goodsBrowsing()},methods:{goodsBrowsing:function(){var t=this,i={page:this.page,limit:this.limit};this.loadStatus="loading",this.$api.goodsBrowsing(i,function(i){if(i.status){var s=i.data.list;s.forEach(function(i){t.$set(i,"slide_x",0),i.ctime=t.$common.timeToDate(i.ctime)}),t.list=[].concat(a(t.list),a(s)),i.data.count>t.list.length?(t.page++,t.loadStatus="more"):t.loadStatus="noMore"}else t.$common.errorToShow(i.msg)})},cancelEvent:function(){this.visible=!1},touchStart:function(i,s){var e=this;this.startCilentY=i.touches[0].clientY,this.startTime=i.timeStamp,this.start_slide_x=this.list[s].slide_x,t.createSelectorQuery().selectAll(".group-btn").boundingClientRect().exec(function(t){null!=t[0]&&(e.btnWidth=-1*t[0][s].width)}),this.startX=i.touches[0].pageX,this.lastX=this.startX,this.list.forEach(function(t,i){i!==s&&(t.slide_x=0)})},touchMove:function(t,i){var s=t.touches[0].clientY,e=s-this.startCilentY;if("Y"===this.direction||Math.abs(e)>20||!0===t.currentTarget.dataset.disabled)this.direction="";else{var o=t.touches[0].pageX,n=o-this.lastX,a=this.list[i].slide_x+n;a<=0&&a>=this.btnWidth&&(this.list[i].slide_x=a),this.lastX=o}},touchEnd:function(t,i){var s=10,e=t.timeStamp,o=this.startX-this.lastX;Math.abs(e-this.startTime)>200&&(s=this.btnWidth/-2),this.list[i].slide_x=o>s?this.btnWidth:o<-1*s?0:this.start_slide_x},recover:function(t){this.list[t].slide_x=0},collect:function(t){var i=this,s={goods_id:this.list[t].goods_id};this.$api.goodsCollection(s,function(s){s.status?i.$common.successToShow(s.msg,function(){i.$nextTick(function(){i.list[t].isCollection=!i.list[t].isCollection})}):i.$common.errorToShow(s.msg)})},remove:function(t){var i=this,s={goods_ids:this.list[t].goods_id};this.$api.delGoodsBrowsing(s,function(s){s.status?i.$common.successToShow(s.msg,function(){i.list.splice(t,1)}):i.$common.errorToShow(s.msg)})}}};i.default=u}).call(this,s("543d")["default"])}},[["a599","common/runtime","common/vendor"]]]);