(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-index-index"],{"1fc7":function(i,e,t){"use strict";var n=t("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.tools=e.checkLogin=e.jumpBackPage=e.goBack=e.goods=e.orders=void 0;var a=n(t("a4bb")),o={mounted:function(){},methods:{orderDetail:function(i){this.$common.navigateTo("/pages/member/order/orderdetail?order_id="+i)},toPay:function(i){this.$common.navigateTo("/pages/goods/payment/index?order_id="+i+"&type=1")},toEvaluate:function(i){this.$common.navigateTo("/pages/member/order/evaluate?order_id="+i)},showExpress:function(i,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=encodeURIComponent("code="+i+"&no="+e+"&add="+t);this.$common.navigateTo("/pages/member/order/express_delivery?params="+n)}}};e.orders=o;var s={mounted:function(){},methods:{goodsDetail:function(i){this.$common.navigateTo("/pages/goods/index/index?id="+i)},goodsList:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/pages/classify/index";(0,a.default)(i).length&&(e=this.$common.builderUrlParams(e,i)),this.$common.navigateTo(e)},groupDetail:function(i,e){this.$common.navigateTo("/pages/goods/index/group?id="+i+"&group_id="+e)},pintuanDetail:function(i,e){e?this.$common.navigateTo("/pages/goods/index/pintuan?id="+i+"&team_id="+e):this.$common.navigateTo("/pages/goods/index/pintuan?id="+i)}}};e.goods=s;var c={onBackPress:function(i){if("navigateBack"===i.from)return!1;var e=["/pages/cart/index/index","/pages/member/index/index"],t=this.$store.state.redirectPage;return e.indexOf(t)>-1?(this.$store.commit({type:"redirect",page:""}),uni.switchTab({url:"/pages/index/index"}),!0):void 0}};e.goBack=c;var r={methods:{handleBack:function(){var i=this.$store.state.redirectPage;this.$store.commit({type:"redirect",page:""});var e=["/pages/index/index","/pages/member/index/index"];e.indexOf(i)>-1?uni.switchTab({url:i}):i?uni.redirectTo({url:i}):uni.switchTab({url:"/pages/index/index"})}}};e.jumpBackPage=r;var u={methods:{checkIsLogin:function(){uni.showToast({title:"请先登录!",icon:"none",duration:800,success:function(i){setTimeout(function(){uni.hideToast(),uni.navigateTo({url:"/pages/login/login/index1"})},800)}})}}};e.checkLogin=u;var l={methods:{copyData:function(i){var e=this;uni.setClipboardData({data:i,success:function(){e.$common.errorToShow("复制成功")}})}}};e.tools=l},2268:function(i,e,t){"use strict";var n=t("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("ac6a");var a=n(t("4c3a")),o=t("1fc7"),s={components:{jihaiCopyright:a.default},mixins:[o.checkLogin],data:function(){return{open_id:"",hasLogin:!1,userInfo:{},kefupara:"",afterSaleNums:0,isClerk:!1,alipayNoLogin:!0,alipayName:"",alipayAvatar:"",config:"",orderItems:[{name:"待付款",icon:"/static/image/me-ic-obligation.png",nums:0},{name:"待发货",icon:"/static/image/me-ic-sendout.png",nums:0},{name:"待收货",icon:"/static/image/me-ic-receiving.png",nums:0},{name:"待评价",icon:"/static/image/me-ic-evaluate.png",nums:0}],utilityMenus:{distribution:{name:"分销中心",icon:"/static/image/distribution.png",router:"../distribution/user",unshowItem:!1},coupon:{name:"我的优惠券",icon:"/static/image/ic-me-coupon.png",router:"../coupon/index",unshowItem:!1},balance:{name:"我的余额",icon:"/static/image/ic-me-balance.png",router:"../balance/index",unshowItem:!1},integral:{name:"我的积分",icon:"/static/image/integral.png",router:"../integral/index",unshowItem:!1},address:{name:"地址管理",icon:"/static/image/me-ic-site.png",router:"../address/list",unshowItem:!1},collection:{name:"我的收藏",icon:"/static/image/ic-me-collect.png",router:"../collection/index",unshowItem:!1},history:{name:"我的足迹",icon:"/static/image/ic-me-track.png",router:"../history/index",unshowItem:!1},invite:{name:"邀请好友",icon:"/static/image/ic-me-invite.png",router:"../invite/index",unshowItem:!0},setting:{name:"系统设置",icon:"/static/image/me-ic-set.png",router:"../setting/index",unshowItem:!1}},clerk:[{name:"提货单列表",icon:"/static/image/me-ic-phone.png",router:"../take_delivery/list"},{name:"提货单核销",icon:"/static/image/me-ic-about.png",router:"../take_delivery/index"}]}},onShow:function(){this.initData()},methods:{goLogin:function(){uni.navigateTo({url:"/pages/login/choose/index"})},getUserInfo:function(i){var e=this;if("getUserInfo:fail auth deny"==i.detail.errMsg)e.$common.errorToShow("未授权");else{var t={open_id:e.open_id,iv:i.detail.iv,edata:i.detail.encryptedData,signature:i.detail.signature},n=e.$db.get("invitecode");n&&(t.invitecode=n),e.toWxLogin(t)}},getALICode:function(){var i=this,e=this;uni.login({scopes:"auth_user",success:function(t){t.authCode?uni.getUserInfo({provider:"alipay",success:function(i){if("getUserInfo:ok"==i.errMsg){var n={nickname:i.nickName,avatar:i.avatar};e.aLiLoginStep1(t.authCode,n)}},fail:function(i){this.$common.errorToShow("未取得用户昵称头像信息")}}):i.$common.errorToShow("未取得code")},fail:function(i){this.$common.errorToShow("用户授权失败my.login")}})},getWxCode:function(){var i=this;uni.login({scopes:"auth_user",success:function(e){e.code?i.wxLoginStep1(e.code):this.$common.errorToShow("未取得code")},fail:function(i){this.$common.errorToShow("用户授权失败wx.login")}})},wxLoginStep1:function(i){var e=this;this.$api.login1({code:i},function(i){i.status?e.open_id=i.data:e.$common.errorToShow(i.msg,function(){uni.navigateBack({delta:1})})})},aLiLoginStep1:function(i,e){var t=this,n={code:i,user_info:e};this.$api.alilogin1(n,function(i){t.alipayNoLogin=!1,i.status?(t.open_id=i.data.user_wx_id,i.data.hasOwnProperty("token")?(t.$db.set("userToken",i.data.token),t.initData()):t.$common.redirectTo("/pages/login/login/index?user_wx_id="+i.data.user_wx_id)):t.$common.errorToShow(i.msg)})},toWxLogin:function(i){var e=this;e.$api.login2(i,function(i){i.status?"undefined"==typeof i.data.token?uni.redirectTo({url:"/pages/login/login/index?user_wx_id="+i.data.user_wx_id}):(e.$db.set("userToken",i.data.token),e.initData()):e.$common.errorToShow("登录失败，请重试")})},toLogin:function(){this.$common.navigateTo("../../login/login/index1")},initData:function(){var i=this,e=this;this.$api.shopConfig(function(e){i.config=e,e.open_distribution?i.utilityMenus.invite.unshowItem=!0:(i.utilityMenus.distribution.unshowItem=!0,i.utilityMenus.invite.unshowItem=!1)}),this.$db.get("userToken")?(this.hasLogin=!0,this.$api.userInfo({},function(t){if(t.isSucess){e.userInfo=t.data;var n={ids:"1,2,3,4",isAfterSale:!0};e.$api.getOrderStatusSum(n,function(i){i.status&&(e.orderItems.forEach(function(e,t){e.nums=i.data[t+1]}),e.afterSaleNums=i.data.isAfterSale?i.data.isAfterSale:0)}),i.$api.isStoreUser({},function(e){i.isClerk=e.flag})}})):this.hasLogin=!1},navigateToHandle:function(i){if(!this.hasLogin)return this.checkIsLogin();this.$common.navigateTo(i)},orderNavigateHandle:function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.hasLogin)return this.checkIsLogin();this.$store.commit("orderTab",e),this.$common.navigateTo(i)},goAfterSaleList:function(){if(!this.hasLogin)return this.checkIsLogin();this.$common.navigateTo("../after_sale/list")},showChat:function(){var i=this;window._AIHECONG("ini",{entId:this.config.ent_id,button:!1,appearance:{panelMobile:{tone:"#FF7159",sideMargin:30,ratio:"part",headHeight:50}}}),window._AIHECONG("customer",{head:i.userInfo.avatar,"名称":i.userInfo.nickname,"手机":i.userInfo.mobile}),window._AIHECONG("showChat")}},computed:{kfmobile:function(){return this.$store.state.config.shop_mobile||0}},watch:{}};e.default=s},2718:function(i,e,t){"use strict";var n=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-uni-view",{staticClass:"cpr"},[t("v-uni-view",{staticClass:"color-9"},[i._v("星云数据平台")])],1)},a=[];t.d(e,"a",function(){return n}),t.d(e,"b",function(){return a})},"3a0e":function(i,e,t){"use strict";var n=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"member-top"},[t("v-uni-image",{staticClass:"bg-img",attrs:{src:"/static/image/member-bg.png"}}),t("v-uni-view",{staticClass:"member-top-c"},[i.hasLogin?[t("v-uni-image",{staticClass:"user-head-img",attrs:{mode:"aspectFill",src:i.userInfo.icon}}),t("v-uni-view",{staticClass:"user-name"},[i._v(i._s(i.userInfo.nickname))]),i.userInfo.personalizedSignature?t("v-uni-view",{staticClass:"fz12 grade"},[i._v(i._s(i.userInfo.personalizedSignature))]):i._e()]:[t("v-uni-image",{staticClass:"user-head-img",attrs:{mode:"aspectFill",src:i.$store.state.config.shop_logo}}),t("v-uni-view",{staticClass:"login-btn",on:{click:function(e){e=i.$handleEvent(e),i.toLogin(e)}}},[i._v("登录/注册")])]],2)],1),t("v-uni-view",{staticClass:"cell-group"},[t("v-uni-view",{staticClass:"cell-item right-img",on:{click:function(e){e=i.$handleEvent(e),i.orderNavigateHandle("../order/orderlist")}}},[t("v-uni-view",{staticClass:"cell-item-hd"},[t("v-uni-view",{staticClass:"cell-hd-title"},[i._v("我的订单")])],1),t("v-uni-view",{staticClass:"cell-item-ft"},[t("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1)],1),t("v-uni-view",{staticClass:"member-grid"},[i._l(i.orderItems,function(e,n){return t("v-uni-view",{key:n,staticClass:"member-item",on:{click:function(e){e=i.$handleEvent(e),i.orderNavigateHandle("../order/orderlist",n+1)}}},[e.nums?t("v-uni-view",{staticClass:"badge color-f"},[i._v(i._s(e.nums))]):i._e(),t("v-uni-image",{staticClass:"member-item-icon",attrs:{src:e.icon}}),t("v-uni-text",{staticClass:"member-item-text"},[i._v(i._s(e.name))])],1)}),t("v-uni-view",{staticClass:"member-item",on:{click:function(e){e=i.$handleEvent(e),i.goAfterSaleList(e)}}},[0!=i.afterSaleNums?t("v-uni-view",{staticClass:"badge color-f"},[i._v(i._s(i.afterSaleNums))]):i._e(),t("v-uni-image",{staticClass:"member-item-icon",attrs:{src:"/static/image/me-ic-evaluate.png"}}),t("v-uni-text",{staticClass:"member-item-text"},[i._v("退换货")])],1)],2),t("v-uni-view",{staticClass:"cell-group margin-cell-group right-img"},[i._l(i.utilityMenus,function(e,n){return e.unshowItem?i._e():t("v-uni-view",{key:n,staticClass:"cell-item"},[t("v-uni-view",{staticClass:"cell-item-hd",on:{click:function(t){t=i.$handleEvent(t),i.navigateToHandle(e.router)}}},[t("v-uni-image",{staticClass:"cell-hd-icon",attrs:{src:e.icon}}),t("v-uni-view",{staticClass:"cell-hd-title"},[i._v(i._s(e.name))])],1),t("v-uni-view",{staticClass:"cell-item-ft"},[t("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1)}),t("v-uni-view",{staticClass:"cell-item"},[t("v-uni-view",{staticClass:"cell-item-hd",on:{click:function(e){e=i.$handleEvent(e),i.showChat()}}},[t("v-uni-image",{staticClass:"cell-hd-icon",attrs:{src:"/static/image/me-ic-phone.png"}}),t("v-uni-view",{staticClass:"cell-hd-title"},[i._v("联系客服")])],1),t("v-uni-view",{staticClass:"cell-item-ft"},[t("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1)],2),i.isClerk?t("v-uni-view",{staticClass:"cell-group margin-cell-group right-img"},i._l(i.clerk,function(e,n){return t("v-uni-view",{key:n,staticClass:"cell-item"},[t("v-uni-view",{staticClass:"cell-item-hd",on:{click:function(t){t=i.$handleEvent(t),i.navigateToHandle(e.router)}}},[t("v-uni-image",{staticClass:"cell-hd-icon",attrs:{src:e.icon}}),t("v-uni-view",{staticClass:"cell-hd-title"},[i._v(i._s(e.name))])],1),t("v-uni-view",{staticClass:"cell-item-ft"},[t("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1)}),1):i._e(),t("jihaiCopyright")],1)},a=[];t.d(e,"a",function(){return n}),t.d(e,"b",function(){return a})},"4c3a":function(i,e,t){"use strict";t.r(e);var n=t("2718"),a=t("e5d1");for(var o in a)"default"!==o&&function(i){t.d(e,i,function(){return a[i]})}(o);t("dc2b");var s=t("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"0e8657ce",null);e["default"]=c.exports},6894:function(i,e,t){},"695a":function(i,e,t){"use strict";t.r(e);var n=t("2268"),a=t.n(n);for(var o in n)"default"!==o&&function(i){t.d(e,i,function(){return n[i]})}(o);e["default"]=a.a},7489:function(i,e,t){"use strict";t.r(e);var n=t("3a0e"),a=t("695a");for(var o in a)"default"!==o&&function(i){t.d(e,i,function(){return a[i]})}(o);t("a1592");var s=t("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"0c2dc855",null);e["default"]=c.exports},"94b2":function(i,e,t){e=i.exports=t("2350")(!1),e.push([i.i,".member-top[data-v-0c2dc855]{position:relative;width:100%;height:%?340?%}.bg-img[data-v-0c2dc855]{position:absolute;width:100%;height:100%}.member-top-c[data-v-0c2dc855]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center}.user-head-img[data-v-0c2dc855]{display:block;width:%?160?%;height:%?160?%;border-radius:50%;overflow:hidden;background-color:hsla(0,0%,100%,.7);margin:0 auto %?16?%}.user-name[data-v-0c2dc855]{font-size:%?30?%;color:#fff;margin-bottom:%?16?%}.grade[data-v-0c2dc855]{color:#fff}.member-grid[data-v-0c2dc855]{background-color:#fff;border-top:%?2?% solid #eee;padding:%?20?% 0}.margin-cell-group[data-v-0c2dc855]{margin:%?20?% 0;color:#666}.badge[data-v-0c2dc855]{left:%?80?%;top:%?-6?%}uni-button.cell-item-hd[data-v-0c2dc855]{background-color:#fff;padding:0;line-height:1.4;color:#333}uni-button.cell-item-hd[data-v-0c2dc855]:after{border:none}.login-btn[data-v-0c2dc855]{color:#fff;width:%?180?%;height:%?50?%;line-height:%?50?%;border-radius:%?25?%;background:#ff7159;font-size:12px}",""])},a1592:function(i,e,t){"use strict";var n=t("b8a4"),a=t.n(n);a.a},b8a4:function(i,e,t){var n=t("94b2");"string"===typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);var a=t("4f06").default;a("1f063cdc",n,!0,{sourceMap:!1,shadowMode:!1})},bd16:function(i,e,t){var n=t("c8a1");"string"===typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);var a=t("4f06").default;a("1ab49f23",n,!0,{sourceMap:!1,shadowMode:!1})},c8a1:function(i,e,t){e=i.exports=t("2350")(!1),e.push([i.i,".cpr[data-v-0e8657ce]{text-align:center;font-size:%?24?%;margin:%?20?% 0}",""])},dc2b:function(i,e,t){"use strict";var n=t("bd16"),a=t.n(n);a.a},e5d1:function(i,e,t){"use strict";t.r(e);var n=t("6894"),a=t.n(n);for(var o in n)"default"!==o&&function(i){t.d(e,i,function(){return n[i]})}(o);e["default"]=a.a}}]);